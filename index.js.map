{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/helpers.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["export const BASE_URL = 'https://dummyjson.com/';\n\nexport const ENDPOINTS = {\n  CATEGORIES: 'products/category-list',\n  PRODUCTS: 'products',\n  BY_CATEGORY: 'products/category/',\n  SEARCH_FORM: 'products/search'\n};\n\n","// https://dummyjson.com/products?limit=12&skip=10 - отримати всі продукти з пагінацією\n// https://dummyjson.com/products/1 - отримати один продукт по ID\n// https://dummyjson.com/products/search?q=nail - пошук продукту по ключовому слову\n// https://dummyjson.com/products/category-list - отримати список категорій продуктів\n// https://dummyjson.com/products/category/smartphones - отримати продукти по категорії\n\nimport axios from 'axios';\nimport { BASE_URL, ENDPOINTS } from './constants';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport const fetchCategories = async () => {\n  const { data } = await axios(`${ENDPOINTS.CATEGORIES}`);\n  return data;\n};\n\n\n\nexport const fetchAllProducts = async (currentPage) => {\n  const {data} = await axios(`${ENDPOINTS.PRODUCTS}`,\n    {params: {\nlimit: 12,\nskip: (currentPage - 1) * 12,\n    }}\n  )\nreturn data\n}\n\nexport const fetchProductsByCategory = async (category) => {\n    const { data } = await axios(`${ENDPOINTS.BY_CATEGORY}${category}`);\n    return data;\n}\n\nexport const fetchProductsBySearch = async (query) => {\n  const {data} = await axios(`${ENDPOINTS.SEARCH_FORM}`, {params: {\n    q: query,\n  }});\n  return data;\n}","export const refs = {\n  categoryList: document.querySelector('.categories'),\n  productList: document.querySelector('.products'),\n  divNotFound: document.querySelector('.not-found'),\n  form: document.querySelector('.search-form'),\n};\n\n\n","import { refs } from './refs';\n\nexport const renderCategories = data => {\n  const markup = data\n    .map(\n      cat => `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${cat}</button>\n </li>`\n    )\n    .join('');\n\n  refs.categoryList.innerHTML = markup;\n};\n\n\nexport const renderProducts = data => {\n  const markup = data\n  .map(({id, thumbnail, tags, title, brand, category, price})=> `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${tags}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n`).join('');\nrefs.productList.insertAdjacentHTML('beforeend', markup)\n}\n\nexport const clearProduct = () => {\n  refs.productList.innerHTML = '';\n}\n","export const activeFirstBtn = () => {\n  const firstBtn = document.querySelector('.categories__btn');\n  if (firstBtn) {\n    firstBtn.classList.add('categories__btn--active');\n  }\n};\n\nexport const changeActiveBtn = (button) => {\n  const allBtn = document.querySelectorAll('.categories__btn--active');\n  allBtn.forEach(btn => btn.classList.remove('categories__btn--active'));\n  button.classList.add('categories__btn--active');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchAllProducts, fetchCategories, fetchProductsByCategory, fetchProductsBySearch } from './products-api';\nimport { clearProduct, renderCategories, renderProducts } from './render-function';\nimport { activeFirstBtn, changeActiveBtn } from './helpers';\nimport { refs } from './refs';\n\nexport const initCategories = async () => {\n  try {\n    const categories = await fetchCategories();\n    renderCategories(['All', ...categories]);\n    activeFirstBtn();\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Oops, something went wrong!' });\n  }\n};\n\nexport const initProducts = async () => {\n  try {\n    const { products } = await fetchAllProducts(1);\n    renderProducts(products)\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Oops, something went wrong!' })\n  }\n};\n\nexport const getProductsByCategory = async (e) => {\n  if (e.target.nodeName !== 'BUTTON') return;\n  const category = e.target.textContent;\n  clearProduct();\n  changeActiveBtn(e.target);\n  refs.divNotFound.classList.remove('not-found--visible');\n  try {\n    if (category === 'All') {\n      const { products } = await fetchAllProducts(1);\n      renderProducts(products);\n    } else {\n      const { products } = await fetchProductsByCategory(category);\n      if (products.length === 0) {\n        refs.divNotFound.classList.add('not-found--visible');\n      }\n      renderProducts(products);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport const getProductsBySearch = async (event) => {\n  event.preventDefault();\n  const inputValue = event.target.elements.searchValue.value.trim();\n  if(inputValue === \"\"){\n    iziToast.warning({message: \"enter something for search\"});\n    return;\n  }\n  try {\n    const data = await fetchProductsBySearch (inputValue);\n    console.log(data);\n  } catch (error) {\n    console.log(error);\n    iziToast.error({ message: 'Oops, something went wrong!' })\n  }\n}\n\n","import { getProductsByCategory, getProductsBySearch, initCategories, initProducts } from './js/handlers';\nimport { refs } from './js/refs';\n\n//Логіка сторінки Home\ninitCategories();\ninitProducts();\n\nrefs.categoryList.addEventListener('click', getProductsByCategory);\nrefs.form.addEventListener('submit', getProductsBySearch)"],"names":["BASE_URL","ENDPOINTS","axios","fetchCategories","data","fetchAllProducts","currentPage","fetchProductsByCategory","category","fetchProductsBySearch","query","refs","renderCategories","markup","cat","renderProducts","id","thumbnail","tags","title","brand","price","clearProduct","activeFirstBtn","firstBtn","changeActiveBtn","button","btn","initCategories","categories","error","iziToast","initProducts","products","getProductsByCategory","e","getProductsBySearch","event","inputValue"],"mappings":"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"}